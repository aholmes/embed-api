<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Embed API QUnit Tests</title>
  <link rel="stylesheet" href="qunit-1.11.0.css">
  <script src="../libs/jQuery.js"></script>
  <script src="qunit-1.11.0.js"></script>
  <!-- this must be after the qunit.js -->
  <script>
    if (location.hash === '#testem'){
        document.write('<script src="/testem.js"></'+'script>');
    }
  </script>
  <script type="text/javascript" language="javascript">
      (function() {
        var isInDist = location.href.indexOf("dist/test") !== -1,
            deployed = location.href.indexOf("media.mtvnservices") !== -1,
            src = isInDist || deployed ? "../../api.js" : "../../dist/api.js";
            document.write('<script src="' + src + '"></'+'script>');
       })();
  </script>
  <!-- QUnit Module -->
  <script type="text/javascript">
        QUnit.testStart(function(details) {
          console.group(details.name);
        });
        QUnit.testDone(function(details) {
            console.log("index.html:26 Qunit Test complete",details.name);
            window.MTVNPlayer.defaultConfig = {
              test: {
                freewheelEnabled: false
              }
            };
            window.MTVNPlayer.defaultEvents = undefined;
            $.each(MTVNPlayer.getPlayers(),function(index, player) {
                player.destroy();
            });
            window.MTVNPlayer.gc();
            console.groupEnd(details.name);
        });
  </script>
  <!-- FIXTURES -->
  <script type="text/template" id="test1">
      <a class="MTVNPlayer" data-contentUri="mgid:uma:video:mtv.com:900034">
        <img 
        src="http://mtv.mtvnimages.com/uri/mgid:uma:video:mtv.com:900034?height=288&width=512"
        height="288"
        width="512">
      </a>
  </script>
  <script type="text/template" id="test2">
      <div class="MTVNPlayer" data-contentUri="mgid:uma:video:mtv.com:900034"></div>
  </script>
  <script type="text/template" id="config-test1">
      <div class="MTVNPlayer" data-contentUri="mgid:uma:video:mtv.com:900034" data-flashVars="autoPlay=true&sid=12345"></div>
  </script>
  <script type="text/template" id="config-test2">
      <div class="MTVNPlayer" data-contentUri="mgid:uma:video:mtv.com:900034" data-autoPlay="true" data-sid="12345"></div>
  </script>
  <script type="text/template" id="config-test3">
      <div class="MTVNPlayer" data-contentUri="mgid:uma:video:mtv.com:900034"></div>
  </script>
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script type="text/javascript" src="placeholder-test.js"></script>
  <script type="text/javascript" src="user-agent-test.js"></script>
  <script type="text/javascript" src="config-test.js"></script>
  <script type="text/javascript" src="methods-test.js"></script>
  <script type="text/javascript" src="events-test.js"></script>
  <script type="text/javascript" src="mtvnplayer-methods-test.js"></script>
  <script type="text/javascript" src="performance-test.js"></script>
  <script type="text/javascript" src="url-util-test.js"></script>
  <script type="text/javascript" src="vmap-unicorn-test.js"></script>
</body>
</html>
